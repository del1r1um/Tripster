# **План автоматизации тестирования веб-cервиса покупки тура, взаимодействующего с СУБД и API Банка**

# **1. Перечень автоматизируемых сценариев тестирования**
Перед выполнением тест-кейсов, необходимо открыть в браузере тестируемый сервис по адресу - http://localhost:8080/  
Инструкция по настройке тестового окружения находится в файле [README.md](/README.md)

---

## Позитивные сценарии

### 1. Покупка тура по дебетовой карте

**Перед выполнением тест-кейсов, на главной странице сервиса необходимо нажать на кнопку `Купить`**

---
**1.1. Успешная покупка тура при оплате картой со статусом APPROVED**

1. В поле `Номер карты` ввести номер карты `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат**: в правом верхнем углу появится сообщение `Операция одобрена Банком`

---
**1.2. Отказ в покупке тура при оплате картой со статусом DECLINED**

1. В поле `Номер карты` ввести номер карты `4444 4444 4444 4442`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `24`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `222`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат**: в правом верхнем углу появится сообщение `Ошибка! Банк отказал в проведении операции`

---

### 2. Покупка тура с использованием кредитных средств

**Перед выполнением тест-кейсов, на главной странице сервиса необходимо нажать на кнопку `Купить в кредит`**

---
**2.1. Успешная покупка тура при оплате картой со статусом APPROVED**

1. В поле `Номер карты` ввести номер карты со статусом APPROVED `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат**: в правом верхнем углу появится сообщение `Операция одобрена Банком`

---
**2.2. Отказ в покупке тура при оплате картой со статусом DECLINED**

1. В поле `Номер карты` ввести номер карты `4444 4444 4444 4442`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `222`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат**: в правом верхнем углу появится сообщение `Ошибка! Банк отказал в проведении операции`

---

# Негативные сценарии

**Перед выполнением тест-кейсов, на главной странице сервиса необходимо:**

* для проверки оплаты тура по дебетовой карте - нажать на кнопку `Купить`
* для проверки оплаты тура с помощью кредитных средств - нажать на кнопку `Купить в кредит`

---

## 1. Поле `Номер карты`

**1.1. Отправка заявки с незаполненным полем**

1. Поле `Номер карты` оставить пустым
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Номер карты` появится сообщение: `Поле обязательно для заполнения`

---
**1.2. Отправка заявки с количеством цифр в номере карты меньше 16**

1. В поле `Номер карты` ввести номер `4444 4444 4444 444`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Номер карты` появится сообщение: `Неверный формат`

---
**1.3. Отправка заявки с несуществующим номером карты**

1. В поле `Номер карты` ввести номер `1414 1515 1616 1717`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат**: в правом верхнем углу появится сообщение `Ошибка! Банк отказал в проведении операции`

## 2. Поле `Месяц`

**2.1 Отправка заявки с незаполненным полем**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. Поле `Месяц` оставить пустым
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Месяц` появится сообщение: `Поле обязательно для заполнения`

---
**2.2. Отправка заявки с нулевыми значениями в поле**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести `00`
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Месяц` появится сообщение: `Неверно указан срок действия карты`

---
**2.3. Отправка заявки с указанием месяца, больше 12**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести `13`
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Месяц` появится сообщение: `Неверно указан срок действия карты`

---
**2.4. Отправка заявки с указанием одной цифры в поле**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести `1`
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Месяц` появится сообщение: `Неверно указан срок действия карты`

## 3. Поле `Год`

**3.1. Отправка заявки с незаполненным полем**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. Поле `Год` оставить пустым
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Год` появится сообщение: `Поле обязательно для заполнения`

---
**3.2. Отправка заявки с указанием карты с истекшим сроком действия**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести `20`
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Год` появится сообщение: `Истёк срок действия карты`

---
**3.3. Отправка заявки с указанием в поле нулевых значений**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести `00`
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Год` появится сообщение: `Истёк срок действия карты`

---
**3.4. Отправка заявки с указанием в поле года значения, превышающим текущий год на 6 лет**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести `27`
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Год` появится сообщение: `Неверно указан срок действия карты`

---
**3.5. Отправка заявки с указанием в поле одной цифры**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести `5`
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Год` появится сообщение: `Неверный формат`

## 4. Поле `Владелец`

**4.1. Отправка заявки с незаполненным полем**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. Поле `Владелец` оставить пустым
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Поле обязательно для заполнения`

---
**4.2. Отправка заявки с указанием в поле только фамилии**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `IVANOV`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

---
**4.3. Отправка заявки с указанием в поле фамилии и имени на кириллице**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `ИВАНОВ ИВАН`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

---
**4.4. Отправка заявки с указанием в поле цифр**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `12345`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

---
**4.5. Отправка заявки с указанием в поле спецсимволов**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `!@#$%^&*`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

---
**4.6. Отправка заявки с указанием в поле большого количества пробелов между фамилией и именем**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `IVANOV(ввести 5 пробелов)IVAN`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

---
**4.7. Отправка заявки с указанием в поле большого количества латинских букв**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести `300 любых латинских букв`
5. В поле `CVC/CVV` ввести любое трехзначное число (например, `111`)
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `Владелец` появится сообщение: `Неверный формат`

## 5. Поле `CVC/CVV`

**5.1. Отправка заявки с указанием в поле двух цифр**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. В поле `CVC/CVV` ввести `11`
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `CVC/CVV` появится сообщение: `Неверный формат`

---
**5.2. Отправка заявки с пустым полем**

1. В поле `Номер карты` ввести номер `4444 4444 4444 4441`
2. В поле `Месяц` ввести любой месяц в формате двузначного числа (например, `01`)
3. В поле `Год` ввести любой год в формате двузначного числа (например, `23`)
4. В поле `Владелец` ввести имя и фамилию латиницей (например, `IVANOV IVAN`)
5. Поле `CVC/CVV` оставить пустым
6. Нажать кнопку `Продолжить`

**Ожидаемый результат:** под полем `CVC/CVV` появится сообщение: `Поле обязательно для заполнения`

---

# **2. Перечень используемых инструментов с обоснованием выбора** 

* **Java** - универсальный язык, позволяющий работать на всех ОС и различном оборудовании. По статистике, Java является одним из самых популярных языков программирования в мире
* **Gradle** - система автоматической сборки проекта. По сравнению с Maven, в Gradle проще подключать зависимости, меньше кода, система имеет множество хороших плагинов
* **Docker** - для развертывания виртуальных контейнеров и запуска в них баз данных MySQL и PostgreSQL, а также сервисов банка на NodeJS
* **JUnit5** - один из наиболее популярных тестовых фреймворков, обладающий всем нужным функционалом и аннотациями
* **Selenide** - фреймворк для автоматизированного тестирования веб-приложений, простой в настройке и удобный в использовании
* **Allure Report** - фреймворк для создания подробных отчётов выполнения тестов. Данная система репортинга обладает значительно большим функционалом по сравнению со стандартным отчетом Gradle
* **Git** - система контроля версий, позволяющая разработчикам отслеживать изменения в файлах и работать совместно с другими разработчиками
* **GitHub** - сервис онлайн-хостинга репозиториев

# 3. **Перечень и описание возможных рисков при автоматизации**

* Отсутствие документации к тестируемому сервису
* Сложность в настройке тестового окружения
* Сложность нахождения необходимых селекторов
* Необходимость актуализации тестов в случае изменения кода в новом релизе сервиса
* Риск выявления в ходе тестирования необходимости реализации дополнительных сценариев, что увеличит время на тестирование и его стоимость

# 4. **Интервальная оценка с учётом рисков**

* Подготовка тестового окружения - `10 часов`
* Написание авто-тестов, тестирование и отладка авто-тестов - `50 часов`
* Подготовка отчётных документов по итогам автоматизированного тестирования - `5 часов`
* Подготовка отчётных документов по итогам автоматизации - `5 часов`

# **5. План сдачи проекта**

* Написание и выполнение авто-тестов - `12 рабочих дней` после утверждения плана автоматизации тестирования
* Подготовка отчётных документов по итогам автоматизированного тестирования - `2 рабочих дня`
* Подготовка отчётных документов по итогам автоматизации - `2 рабочих дня`